<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>git-story by buren</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">git-story</h1>
      <h2 class="project-tagline">Simplified git workflow.</h2>
      <a href="https://github.com/buren/git-story" class="btn">View on GitHub</a>
      <a href="https://github.com/buren/git-story/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/buren/git-story/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="git-story" class="anchor" href="#git-story" aria-hidden="true"><span class="octicon octicon-link"></span></a>git-story</h1>

<p>Various extensions to git, documented below.</p>

<ul>
<li><a href="#install-git-story">Installation</a></li>
<li><a href="#getting-started">Getting Started</a></li>
<li><a href="#example">Example</a></li>
<li><a href="#configuration">Configuration</a></li>
<li>
<a href="#documentation">Documentation</a>

<ul>
<li><a href="#branching-extensions">Branching extensions</a></li>
<li><a href="#convenience-extensions">Convenience extensions</a></li>
<li><a href="#log-extensions">Log extensions</a></li>
<li><a href="#project-integration-extensions">Project integration extensions</a></li>
<li><a href="#statistics-extensions">Statistics extensions</a></li>
<li><a href="#git-story-interactions">git-story interactions</a></li>
<li><a href="#misc">Misc</a></li>
</ul>
</li>
<li><a href="#notes">Notes</a></li>
<li><a href="#license">License</a></li>
</ul>

<h2>
<a id="install-git-story" class="anchor" href="#install-git-story" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install git-story</h2>

<div class="highlight highlight-bash"><pre>curl -L http://bit.ly/1hHt20S <span class="pl-k">|</span> bash</pre></div>

<p>The above command will install and inject an import of the git-story script to either <code>.bash_profile</code>, <code>.bashrc</code> or <code>.zshrc</code> (in that order).  See <a href="https://github.com/buren/git-story/blob/master/setup/install">install script</a> for details.</p>

<p>Reload your shell to initialize git-story extensions.</p>

<h2>
<a id="getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span class="octicon octicon-link"></span></a>Getting started</h2>

<p>Branch model:</p>

<ol>
<li>Start developing a feature, and name it <code>git feature &lt;name&gt;</code>
</li>
<li>Save local changes and sync with remote <code>git finish</code>
</li>
<li>Create a pull request</li>
</ol>

<p>The principle is that you develop each new feature in its own branch and when
you're done you push it and create a pull request. See <a href="http://scottchacon.com/2011/08/31/github-flow.html">GitHub flow</a> branch model.
Note that <code>git feature</code> and <code>git finish</code> are flexible. They both take an optional argument <em>target-branch</em>, which the current/new branch will sync with.</p>

<h2>
<a id="example" class="anchor" href="#example" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h2>

<div class="highlight highlight-bash"><pre>$ git feature branch-name   <span class="pl-c"># Sets up clean workspace based on remote master.</span>
$ git finish              <span class="pl-c"># Commit changes, updates current and local branch.</span></pre></div>

<p>Output <a href="http://showterm.io/ec6267151db96042b6cf8">example</a> (video).</p>

<h2>
<a id="documentation" class="anchor" href="#documentation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Documentation</h2>

<p>Print command usage:</p>

<div class="highlight highlight-bash"><pre>$ git <span class="pl-k">&lt;</span>git-story-extension<span class="pl-k">&gt;</span> --usage</pre></div>

<h3>
<a id="branching-extensions" class="anchor" href="#branching-extensions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Branching extensions</h3>

<ul>
<li>
<p>Start developing a feature</p>

<div class="highlight highlight-bash"><pre>$ git feature <span class="pl-k">&lt;</span>branch-name<span class="pl-k">&gt;</span> <span class="pl-k">&lt;</span>target-branch<span class="pl-k">&gt;</span></pre></div>

<p>this will create a new branch <em>branch-name</em> based of master or specified <em>target-branch</em>. If the branch exists on remote pull the latest changes. Ensures the uniqueness of branch name at remote. Pushes the created branch to remote.
Executes:</p>

<ol>
<li>Checkout <em>target-branch</em>
</li>
<li>Pull <em>target-branch</em>
</li>
<li>Create new branch <em>branch-name</em>
</li>
<li>Push <em>branch-name</em>
</li>
</ol>
</li>
<li>
<p>Commit and sync with repository</p>

<div class="highlight highlight-bash"><pre>$ git finish <span class="pl-k">&lt;</span>target-branch<span class="pl-k">&gt;</span></pre></div>

<p>commit the changes you've made and merge changes with <em>target-branch</em>.
<em>target-branch</em> is optional and the default is <em>target-branch</em>.
Executes:</p>

<ol>
<li>Prompt commit message if any uncommitted changes</li>
<li>Pull current branch</li>
<li>Pull <em>target-branch</em>
</li>
<li>Push current branch</li>
<li>Perform local merge with <em>target-branch</em> if configured
will exit and print conflicted files if any merge conflicts are found.</li>
</ol>
</li>
<li><p><code>git branch-status</code> shows current branch status.</p></li>
<li>
<code>git pull-branch</code> pull current, or specified, branch's remote changes.</li>
<li>
<code>git create-branch</code> create and checkout a new branch and push to remote.</li>
<li>
<code>git push-branch</code> push the current branch to remote.</li>
<li>
<code>git delete-branch</code> delete branch from remote and local.</li>
<li>
<code>git delete-merged</code> delete all merged branches locally and at remote.</li>
</ul>

<h3>
<a id="convenience-extensions" class="anchor" href="#convenience-extensions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Convenience extensions</h3>

<ul>
<li>
<code>git addcom</code> add all files and commit.</li>
<li>
<code>git fuckit</code> commit all files and push current branch. Default is to prompt for commit message.</li>
<li>
<code>git redo-commit</code> redo last commit.</li>
<li>
<code>git goto &lt;branch-name&gt;</code> switches to branch <em>branch-name</em> if the working directory is clean.</li>
<li>
<code>git abort-merge</code> aborts current merge.</li>
<li>
<code>git obliterate</code> remove file from local repository and its entire history.</li>
<li>
<code>git zip-project</code> create zip-file of project.</li>
<li>
<code>git ignore</code> add and list patterns to local and global gitignore.</li>
<li>
<code>git ignore-boilerplate</code> easy access to gitignore boilerplates from github.com/github/gitignore.</li>
<li>
<code>git conflicted</code> list files with merge-conflicts.</li>
<li>
<code>git todos</code> list all TODOS and FIXMES.</li>
<li>
<code>git tag-release</code> create a new tagged release.</li>
<li>
<code>git rename-tag</code> rename an existing release.</li>
<li>
<code>git changelog</code> generate changelog from last tag.</li>
<li>
<code>git squash-commits</code> squash given number of commits together.</li>
</ul>

<h3>
<a id="log-extensions" class="anchor" href="#log-extensions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Log extensions</h3>

<ul>
<li>
<code>git history</code> view repository commit history.</li>
<li>
<code>git trail</code> shows the last common commit with current branch.</li>
<li>
<code>git neck</code> show commits until first branching point.</li>
<li>
<code>git divergence</code> show the difference between current branch and the same branch at remote.</li>
<li>
<code>git local-commits</code> show local commits that haven't been pushed to remote.</li>
<li>
<code>git commits-since</code> show commits since given time.</li>
</ul>

<h3>
<a id="project-integration-extensions" class="anchor" href="#project-integration-extensions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Project integration extensions</h3>

<ul>
<li>
<code>git browse</code>  opens the repository on GitHub.</li>
<li>
<code>git package</code> package project, runs <code>GS_PACKAGE</code>.</li>
<li>
<code>git deploy</code> package project, runs <code>GS_DEPLOY</code>.</li>
<li>
<code>git install-project</code> install project, runs <code>GS_INSTALL</code>.</li>
<li>
<code>git test</code>    package project, runs <code>GS_PRE_COMMIT_HOOK</code>.</li>
<li>
<code>git tag-release</code> tags release, runs <code>GS_TAG_RELEASE</code>.</li>
</ul>

<h3>
<a id="statistics-extensions" class="anchor" href="#statistics-extensions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Statistics extensions</h3>

<ul>
<li>
<p>Show statistics for repository</p>

<pre><code>git stat &lt;type&gt;

types:
  contrib &lt;name&gt; # shows statistics for all or specified author (alias: contributions)
  commits        # shows number of commits for each author
  weekdays       # prints statistics for number of commits per weekday
  hour           # prints statistics for number of commits per hour
  files          # prints number of files and lines
  diff           # Print stat of uncommitted changes
  log            # Print log with stat
  modified       # Print stat of most modified files
</code></pre>

<p>prints statistics of given type.</p>
</li>
<li>
<code>git churn</code> count number of changes for each file.</li>
<li>
<code>git effort</code> like churn, but prettier and with active day count.</li>
<li>
<code>git summary</code> show summary for current project.</li>
</ul>

<h3>
<a id="git-story-interactions" class="anchor" href="#git-story-interactions" aria-hidden="true"><span class="octicon octicon-link"></span></a>git-story interactions</h3>

<ul>
<li>
<code>git gs-update</code> gets the latest version of git-story.</li>
<li>
<code>git gs-extend &lt;extension-name&gt;</code> add new git-story extension to git.</li>
<li>
<code>git gs</code> list git-story extensions.</li>
</ul>

<h3>
<a id="misc" class="anchor" href="#misc" aria-hidden="true"><span class="octicon octicon-link"></span></a>Misc</h3>

<ul>
<li>
<code>git repl</code> git read-eval-print-loop (REPL).</li>
</ul>

<h2>
<a id="configuration" class="anchor" href="#configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Configuration</h2>

<p>Configure <code>git-story</code> by creating a file <code>~/.gitstoryrc</code>
For project specific configurations create a file named <code>.gitstoryrc</code> at the project's git root.</p>

<p>See full example with comments in <a href="https://github.com/buren/git-story/blob/master/docs/gitstoryrc-example">docs/gitstoryrc-example</a>.</p>

<p>Available options and their <a href="https://github.com/buren/git-story/blob/master/config">default</a> value:</p>

<pre><code>GS_DEFAULT_REMOTE='origin'          # Default remote for git story
GS_GIT_STORY_BRANCH='master'        # Target branch for 'feature' &amp; 'finish'
GS_LOCAL_MERGE=false                # Perform local merge on 'finish'
GS_PRINT_CHECKLIST=false            # Print checklist before 'finish'
GS_GRAPHIC_PROMPT=false             # Show all prompts (on OSX) in a GUI dialog
GS_PROMPT_ON_DONE=false             # Prompt user before 'finish'
GS_TEST_ON_DONE=true                # Run test command before 'finish'
GS_SIGN_RELEASE=true                # Sign tags created with 'tag-release'
GS_SIGN_COMMITS=true                # Sign each commit created with addcom, with GPG-key
GS_SIGN_COMMITS_STRING=true         # Sign each commit created with addcom, with --signoff
GS_CHECKLIST_MESSAGE='...'          # Checklist string for 'finish'
GS_PRE_COMMIT_HOOK=''               # A command that runs all tests
GS_PACKAGE=''                       # Shell command for 'package'
GS_DEPLOY=''                        # Shell command for 'deploy'
GS_TAG_RELEASE=''                   # Shell command for 'tag-release'
GS_INTSALL=''                       # Shell command for 'install'
GS_HAS_GITHUB=true                  # Project has GitHub.
GS_PROJECT_URL=''                   # Project URL
GS_TEST_ON_AUTO_MERGE=true          # Run tests command on auto merge
GS_PRODUCTION_BRANCH='heads/master' # Integration branch for production
GS_NEXT_VERSION_BRANCH=''           # Integration branch for next
GS_EDGE_BRANCH=''                   # Integration branch for edge
GS_GIT_STORY_EXT_BRANCH='master'    # Target branch for git-story extension
</code></pre>

<h2>
<a id="notes" class="anchor" href="#notes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Notes</h2>

<ul>
<li>The software is supplied “as is” and all use is at your own risk (see <a href="https://github.com/buren/git-story/blob/master/LICENSE">license</a>)</li>
<li>
<code>git branch-status</code> requires Ruby 1.8.7 or greater</li>
<li>Tested on Linux/OSX/Windows using both zsh, bash and cygwin*, doesn't work with sh.</li>
<li>Almost everything works with cygwin except:

<ul>
<li><code>git trail</code></li>
<li>
<code>git neck</code> both neck and trail fails on <code>git -p column</code>
</li>
</ul>
</li>
<li>Fork the repository and update the URL defined in <a href="https://github.com/buren/git-story/blob/master/setup/install#L2">setup/install</a> to install and use your own version of git-story</li>
<li>Thanks:

<ul>
<li><a href="https://github.com/visionmedia/git-extras">visionmedia/git-extras</a></li>
<li><a href="https://github.com/cypher/dotfiles">cypher/dotfiles</a></li>
<li><a href="https://github.com/simonwhitaker/gibo/">simonwhitaker/gibo</a></li>
</ul>
</li>
<li>Uninstall git-story: <code>rm -rf ~/.git-story</code>
</li>
</ul>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>git-story is released under the <a href="https://github.com/buren/git-story/blob/master/LICENSE">MIT License</a>.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/buren/git-story">git-story</a> is maintained by <a href="https://github.com/buren">buren</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-47025757-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>

